# テストコード
* テストケースは日本語で記載する。
* テストコードのファイル名は`<テスト対象のファイル名>.test.<テスト対象のクラスのファイルの拡張子> とする。
* テストコードの作成先は`test/` 配下かつテスト対象のファイルが配置されている位置と同一となるようにする。
## 例
message_util.tsのテストコードを作成する場合
```
.
├── src/
│   └── common/
│       └── utils/
│         └── message_util.ts
└── test/
    └── common/
        └── utils/
          └── message_util.test.ts
```

# テスト容易性・モック方針
- chrome APIや外部依存はjest等でグローバルモックを用意し、Node.js環境でもテスト可能にすること。
- 依存性注入により、テスト時はモックを注入できる設計とすること。
- - DIコンテナ（inversifyのContainer等）を利用している場合、テスト時はjest.mockでContainer自体をモック化し、依存解決エラーを回避すること。これにより、コンストラクタ引数の@inject等が不足していてもテストが通るようにする。
- windowやlocation等のグローバルオブジェクトの状態はテスト間で副作用が出ないよう、beforeEach等で初期化すること。

# テストコード作成・修正ルール
- 新規クラス追加時は必ずテストコードも作成し、正常系・異常系・境界値・例外系を網羅すること。
- 既存クラス修正時は関連テストの修正要否を確認し、必要に応じてテストケースを追加・修正すること。
- テスト実行し、全てパスすることを確認する。
